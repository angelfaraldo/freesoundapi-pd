#N canvas 538 23 807 614 12;
#X declare -path purest_json -path pdogg -path list-abs -path ggee
-lib zexy;
#X obj 25 369 json-decode;
#N canvas 470 133 1150 703 parse-json 0;
#X obj 19 15 inlet;
#X obj 398 156 json-decode;
#X obj 398 181 list trim;
#X obj 448 377 print NAME;
#X obj 398 403 print ID;
#X obj 601 293 print USERNAME;
#X obj 20 88 route count next previous results;
#X obj 550 322 print LICENSE;
#X obj 296 275 + 1;
#X obj 264 275 f 1;
#X obj 19 40 t l b, f 38;
#X obj 19 64 list trim;
#X msg 282 165 1;
#X obj 286 381 table sndid 151;
#X obj 285 356 tabwrite sndid;
#X obj 77 177 s \$0-next;
#X obj 77 150 symbol;
#X obj 134 123 symbol;
#X obj 134 147 s \$0-prev;
#N canvas 126 242 1124 282 more-fields 0;
#X obj 9 11 inlet;
#X obj 9 40 route url description geotag created type channels filesize
bitrate bitdepth duration samplerate pack download bookmark images
num_downloads avg_ratings num_ratings rate comments num_comments comment
similar_sounds analysis analysis_stats analysis_frames ac_analysis
, f 140;
#X obj 10 209 print URL;
#X obj 45 178 print DESCRIPTION;
#X obj 81 148 print GEOTAG;
#X obj 117 118 print CREATED;
#X obj 153 88 print TYPE;
#X obj 189 208 print CHANNELS;
#X obj 226 178 print FILESIZE;
#X obj 262 148 print BITRATE;
#X obj 298 118 print BITDEPTH;
#X obj 334 88 print DURATION;
#X obj 370 208 print SAMPLERATE;
#X obj 407 178 print PACK;
#X obj 443 148 print DOWNLOAD;
#X obj 479 118 print BOOKMARK;
#X obj 515 88 print IMAGES;
#X obj 551 208 print NUM_DOWNLOADS;
#X obj 587 178 print AVG_RATINGS;
#X obj 623 148 print NUM_RATINGS;
#X obj 659 118 print RATE;
#X obj 696 88 print COMMENTS;
#X obj 732 208 print NUM_COMMENTS;
#X obj 768 178 print COMMENT;
#X obj 805 148 print SIMILAR_SOUNDS;
#X obj 841 118 print ANALYSIS;
#X obj 877 88 print ANALYSIS_STATS;
#X obj 913 208 print ANALYSIS_FRAMES;
#X obj 949 178 print AC_ANALYSIS;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 1 4 6 0;
#X connect 1 5 7 0;
#X connect 1 6 8 0;
#X connect 1 7 9 0;
#X connect 1 8 10 0;
#X connect 1 9 11 0;
#X connect 1 10 12 0;
#X connect 1 11 13 0;
#X connect 1 12 14 0;
#X connect 1 13 15 0;
#X connect 1 14 16 0;
#X connect 1 15 17 0;
#X connect 1 16 18 0;
#X connect 1 17 19 0;
#X connect 1 18 20 0;
#X connect 1 19 21 0;
#X connect 1 20 22 0;
#X connect 1 21 23 0;
#X connect 1 22 24 0;
#X connect 1 23 25 0;
#X connect 1 24 26 0;
#X connect 1 25 27 0;
#X connect 1 26 28 0;
#X restore 703 234 pd more-fields;
#X obj 398 206 route id name tags license username previews;
#X obj 890 509 print PREVIEWS;
#X text 149 636 potential bug to list tags if connected to license.
Likewise with the numbering of the results;
#X obj 398 232 t f b;
#X obj 780 304 json-decode;
#X obj 733 427 print;
#X obj 499 349 print TAGS;
#X obj 795 356 route preview-lq-ogg preview-hq-ogg;
#X obj 781 329 list trim;
#X obj 799 408 symbol;
#X obj 264 408 s \$0-page_items;
#X obj 729 580 json-decode;
#X obj 729 604 list append, f 16;
#X obj 740 658 t l;
#X obj 704 658 list;
#X obj 704 683 list trim;
#X obj 833 645 list prepend |;
#X obj 894 712 print TAGS-in a nice list;
#X text 559 94 FORCE ALWAYS ID AS FIRST FIELD!!!!;
#X text 559 115 FORCE PREVIEWS IN ORDER TO DOWNLOAD SOUND!;
#X obj 20 205 s \$0-n_matches;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 20 0;
#X connect 6 0 40 0;
#X connect 6 1 16 0;
#X connect 6 2 17 0;
#X connect 6 3 1 0;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 14 1;
#X connect 9 0 30 0;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 11 0 6 0;
#X connect 12 0 9 1;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 20 0 23 0;
#X connect 20 1 3 0;
#X connect 20 2 26 0;
#X connect 20 3 7 0;
#X connect 20 4 5 0;
#X connect 20 5 24 0;
#X connect 20 6 19 0;
#X connect 23 0 4 0;
#X connect 23 0 14 0;
#X connect 23 1 9 0;
#X connect 24 0 28 0;
#X connect 27 0 25 0;
#X connect 27 0 29 0;
#X connect 28 0 27 0;
#X connect 31 0 32 0;
#X connect 31 1 34 0;
#X connect 32 0 36 0;
#X connect 32 0 34 1;
#X connect 33 0 32 1;
#X connect 34 0 35 0;
#X connect 35 0 37 0;
#X connect 36 0 32 1;
#X restore 25 395 pd parse-json;
#X obj 493 510 tabread sndid;
#X floatatom 493 486 5 0 0 0 - - -;
#X floatatom 493 536 0 0 0 0 - - -;
#X obj 35 314 print URL STRING;
#X obj 25 343 rest;
#X obj 380 111 inlet;
#X text 426 110 config params;
#X obj 380 331 s \$0-page;
#X obj 407 308 s \$0-page_size;
#X obj 437 285 s \$0-sort;
#X obj 494 239 s \$0-format;
#X obj 465 262 s \$0-group_by_pack;
#X obj 522 215 s \$0-fields;
#X msg 25 288 GET \$1\$2;
#X obj 25 261 pack s s, f 25;
#X obj 551 192 s \$0-descriptors;
#X msg 23 43 bang;
#N canvas 0 23 889 274 re-load-defaults 0;
#X obj 39 17 loadbang;
#X obj 39 63 \$0;
#X obj 48 39 inlet;
#X obj 370 44 symbol \$1;
#X obj 370 17 loadbang;
#X obj 370 71 list fromsymbol;
#X obj 370 98 route bang;
#X obj 437 125 list tosymbol;
#X obj 437 150 s \$0-token;
#X obj 371 230 print WARNING;
#X msg 371 175 You must initialise [freesoundapi] with a personal API
token. You can obtain one by logging into your freesound account and
request a new API credential at https://freesound.org/apiv2/apply.
, f 65;
#X msg 39 86 \; \$1-page 1 \; \$1-page_size 3 \; \$1-fields id name
tags username license \; \$1-descriptors none \; \$1-sort score \;
\$1-group_by_pack 0 \; \$1-format json;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 10 0 9 0;
#X restore 23 66 pd re-load-defaults;
#X obj 4 586 cnv 15 800 20 empty empty empty 20 12 0 14 -261234 -66577
0;
#X text 667 587 √Ångel Faraldo \, 2021;
#X obj 380 136 route page page_size sort group_by_pack format fields
descriptors, f 29;
#X obj 22 15 declare -path purest_json -path pdogg -path list-abs -path
ggee -lib zexy, f 74;
#X obj 197 232 r \$0-config-parameters;
#X obj 23 112 inlet;
#X obj 23 139 route next previous;
#N canvas 0 23 1080 808 search-parameters 0;
#X obj 22 18 inlet;
#X msg 111 537 symbol &page=\$1;
#X msg 145 585 symbol &page_size=\$1;
#X obj 145 561 r \$0-page_size;
#X obj 111 512 r \$0-page;
#X obj 78 608 pack s s s;
#X obj 78 485 t s b, f 43;
#X msg 78 633 symbol https://freesound.org/apiv2\$1\$2\$3;
#N canvas 984 23 473 835 format-search-string 0;
#X obj 25 20 inlet;
#X obj 99 189 list split 1, f 36;
#X obj 99 236 list fromsymbol;
#X obj 99 260 list split 1;
#X obj 99 313 list append;
#X msg 99 286 63;
#X obj 99 364 list tosymbol;
#X obj 99 338 list append 61;
#X obj 223 239 list-drip, f 23;
#X obj 223 296 list fromsymbol;
#X obj 223 372 list prepend 38;
#X obj 223 426 list tosymbol;
#X obj 405 423 t l;
#X obj 223 453 list prepend, f 25;
#X obj 223 215 t l b, f 25;
#X obj 228 512 list2symbol %20;
#X obj 228 487 list;
#X obj 99 537 pack s s, f 19;
#X obj 223 398 list append 61;
#X obj 99 598 outlet;
#X msg 99 562 symbol \$1\$2;
#X obj 99 212 symbol;
#X obj 223 267 route symbol, f 19;
#X obj 223 322 route 45 94;
#X obj 260 346 list prepend 45;
#X obj 25 45 route float;
#X text 133 46 PROBLEM WITH SOUNDS... NEED TO SOLVE!;
#X connect 0 0 25 0;
#X connect 1 0 21 0;
#X connect 1 1 14 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 1;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 6 0 17 0;
#X connect 7 0 6 0;
#X connect 8 0 22 0;
#X connect 8 1 16 0;
#X connect 9 0 23 0;
#X connect 10 0 18 0;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 12 0;
#X connect 13 0 16 1;
#X connect 14 0 8 0;
#X connect 14 1 13 1;
#X connect 15 0 17 1;
#X connect 16 0 15 0;
#X connect 17 0 20 0;
#X connect 18 0 11 0;
#X connect 20 0 19 0;
#X connect 21 0 2 0;
#X connect 22 0 9 0;
#X connect 22 1 13 0;
#X connect 23 0 10 0;
#X connect 23 1 24 0;
#X connect 23 2 11 0;
#X connect 24 0 11 0;
#X connect 25 1 1 0;
#X restore 467 247 pd format-search-string;
#X obj 78 125 t b a;
#X obj 78 434 pack s s, f 56;
#X msg 78 214 /search/text/;
#X msg 78 459 symbol \$1\$2;
#X obj 135 125 t b a;
#X obj 191 125 t b a;
#X obj 248 125 t b a;
#X obj 304 125 t b a;
#X obj 361 125 t b a;
#X obj 417 125 t b a;
#X msg 248 304 /users/;
#X msg 417 382 /me/;
#X msg 361 356 /descriptors/;
#X msg 135 244 /search/content/;
#X msg 191 278 /search/combined/;
#X msg 304 329 /packs/;
#X obj 22 123 t b a;
#X msg 22 182 /sounds/;
#X obj 22 44 route sounds search_text search_content search_combined
users packs descriptors me, f 65;
#X obj 474 124 print ERROR;
#X msg 474 83 invalid request method. Your request must start with
one of the following: search_text search_content search_combined sounds
users packs descriptors me, f 76;
#X obj 78 659 s \$0-search-parameters;
#X msg 579 600 symbol &format=\$1;
#X msg 601 677 symbol &token=\$1;
#X obj 601 652 symbol;
#X obj 579 578 symbol;
#X obj 579 555 r \$0-format;
#X obj 535 457 symbol;
#X obj 535 434 r \$0-sort;
#X msg 535 479 symbol &sort=\$1;
#X obj 557 504 r \$0-group_by_pack;
#X msg 557 529 symbol &group_by_pack=\$1;
#X obj 601 626 r \$0-token;
#X msg 492 329 symbol &fields=\$1;
#X obj 492 305 list2symbol %2C;
#X obj 492 279 r \$0-fields;
#X obj 492 701 pack s s s s s s;
#X obj 513 381 list2symbol %2C;
#X obj 513 355 r \$0-descriptors;
#X msg 513 405 symbol &descriptors=\$1;
#X msg 492 727 symbol \$1\$2\$3\$4\$5\$6;
#X obj 492 751 s \$0-config-parameters;
#X connect 0 0 27 0;
#X connect 1 0 5 1;
#X connect 2 0 5 2;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X connect 6 1 45 0;
#X connect 7 0 30 0;
#X connect 8 0 10 1;
#X connect 9 0 11 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 12 0 6 0;
#X connect 13 0 22 0;
#X connect 13 1 8 0;
#X connect 14 0 23 0;
#X connect 14 1 8 0;
#X connect 15 0 19 0;
#X connect 15 1 8 0;
#X connect 16 0 24 0;
#X connect 16 1 8 0;
#X connect 17 0 21 0;
#X connect 17 1 8 0;
#X connect 18 0 20 0;
#X connect 18 1 8 0;
#X connect 19 0 10 0;
#X connect 20 0 10 0;
#X connect 21 0 10 0;
#X connect 22 0 10 0;
#X connect 23 0 10 0;
#X connect 24 0 10 0;
#X connect 25 0 26 0;
#X connect 25 1 8 0;
#X connect 26 0 10 0;
#X connect 27 0 25 0;
#X connect 27 1 9 0;
#X connect 27 2 13 0;
#X connect 27 3 14 0;
#X connect 27 4 15 0;
#X connect 27 5 16 0;
#X connect 27 6 17 0;
#X connect 27 7 18 0;
#X connect 27 8 29 0;
#X connect 29 0 28 0;
#X connect 31 0 45 4;
#X connect 32 0 45 5;
#X connect 33 0 32 0;
#X connect 34 0 31 0;
#X connect 35 0 34 0;
#X connect 36 0 38 0;
#X connect 37 0 36 0;
#X connect 38 0 45 2;
#X connect 39 0 40 0;
#X connect 40 0 45 3;
#X connect 41 0 33 0;
#X connect 42 0 45 0;
#X connect 43 0 42 0;
#X connect 44 0 43 0;
#X connect 45 0 49 0;
#X connect 46 0 48 0;
#X connect 47 0 46 0;
#X connect 48 0 45 1;
#X connect 49 0 50 0;
#X restore 185 190 pd search-parameters;
#X obj 153 164 t b a;
#X obj 25 233 r \$0-search-parameters;
#N canvas 0 23 629 622 page_display 1;
#X obj 38 35 inlet;
#X obj 166 40 inlet;
#X obj 238 158 inlet;
#X obj 38 88 symbol;
#X obj 77 64 r \$0-next;
#X obj 166 91 symbol;
#X obj 205 66 r \$0-prev;
#X obj 38 160 t b;
#X msg 38 188 1;
#X msg 166 187 -1;
#X obj 38 256 + 1;
#X obj 73 256 f;
#X obj 166 159 t b;
#X obj 56 475 print -n;
#X obj 56 403 r \$0-page_items;
#X obj 256 183 r \$0-page;
#X obj 178 122 s \$0-search-parameters;
#X obj 238 209 f 1;
#X obj 56 427 + 1;
#X obj 92 355 r \$0-page_size;
#X obj 74 379 * 3;
#X obj 38 302 max 1;
#X obj 74 330 - 1;
#X obj 38 593 print -n;
#X msg 56 452 \  \, \$1);
#X obj 38 528 pack f f;
#X obj 38 502 r \$0-n_matches;
#X msg 38 554 \  \, PAGE \$2. TOTAL SOUNDS MATCHING SEARCH CRITERIA:
\$1 \, ===============================================;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 17 0;
#X connect 3 0 7 0;
#X connect 3 0 16 0;
#X connect 4 0 3 1;
#X connect 5 0 12 0;
#X connect 5 0 16 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 10 0 21 0;
#X connect 11 0 10 1;
#X connect 12 0 9 0;
#X connect 14 0 18 0;
#X connect 15 0 17 1;
#X connect 17 0 11 0;
#X connect 17 0 21 0;
#X connect 18 0 24 0;
#X connect 19 0 20 1;
#X connect 20 0 18 1;
#X connect 21 0 22 0;
#X connect 21 0 25 1;
#X connect 22 0 20 0;
#X connect 24 0 13 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 27 0 23 0;
#X restore 23 196 pd page_display;
#X f 19;
#X connect 0 0 1 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 6 0 0 0;
#X connect 7 0 22 0;
#X connect 15 0 6 0;
#X connect 16 0 15 0;
#X connect 18 0 19 0;
#X connect 22 0 9 0;
#X connect 22 1 10 0;
#X connect 22 2 11 0;
#X connect 22 3 13 0;
#X connect 22 4 12 0;
#X connect 22 5 14 0;
#X connect 22 6 17 0;
#X connect 24 0 16 1;
#X connect 25 0 26 0;
#X connect 26 0 30 0;
#X connect 26 1 30 1;
#X connect 26 2 28 0;
#X connect 28 0 30 2;
#X connect 28 1 27 0;
#X connect 29 0 16 0;
